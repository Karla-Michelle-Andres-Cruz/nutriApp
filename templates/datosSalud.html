{% extends "index.html" %}
{% block content %}

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form id="healthForm" method="post" action="/guardar_info_salud"
                    class="rounded p-4 mt-5 shadow-lg p-3 mb-5 bg-body-tertiary" style="background-color: #ffffff;">
                    <p style="font-family: 'Leckerli One', system-ui; font-size: 40px;" class="text-center">Actualizar Información de Salud</p>
                    <p style="font-family: 'Delius', system-ui; font-size: 18px;" class="text-center">Actualiza tus datos para ayudarte en tu objetivo de salud</p>
                    <hr>

                    <div class="container mt-4">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                        {% for category, message in messages %}
                        <div class="alert alert-{{ 'danger' if category == 'error' else 'success'}} alert-dismissible fade show"
                            role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="close"></button>
                        </div>
                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                    </div>

                    <div class="row">
                        <h1 style="font-family: 'Leckerli One', system-ui; font-size: 30px;" class="text-center">Información Física</h1>
                        <div class="col-6 mb-3">
                            <input style="font-family: 'Delius', system-ui; font-size: 18px;" type="number" class="form-control" name="altura_cm" placeholder="Altura (cm)" required
                                value="{{ request.form.get('altura_cm','') }}" step="0.01">
                        </div>
                        <div class="col-6 mb-3">
                            <input style="font-family: 'Delius', system-ui; font-size: 18px;" type="number" class="form-control" name="peso_actual_kg" placeholder="Peso actual (kg)" required
                                value="{{ request.form.get('peso_actual_kg','') }}" step="0.01">
                        </div>
                        
                        <div class="col-16 mb-3">
                            <input style="font-family: 'Delius', system-ui; font-size: 18px;" type="number" class="form-control" name="peso_objetivo_kg" placeholder="Peso objetivo (kg)" required
                                value="{{ request.form.get('peso_objetivo_kg','') }}" step="0.01">
                        </div>
                    </div>

                    <hr>

                    <div class="mb-3">
                        <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Nivel de actividad</label>
                        <select class="form-select rounded-pill" name="nivel_actividad" style="font-family: 'Delius', system-ui; font-size: 18px;" required>
                            <option value="">Selecciona una opción</option>
                            <option value="sedentario" {% if request.form.get("nivel_actividad") == "sedentario" %}selected{% endif %}>Sedentario</option>
                            <option value="ligero" {% if request.form.get("nivel_actividad") == "ligero" %}selected{% endif %}>Ligero</option>
                            <option value="moderado" {% if request.form.get("nivel_actividad") == "moderado" %}selected{% endif %}>Moderado</option>
                            <option value="activo" {% if request.form.get("nivel_actividad") == "activo" %}selected{% endif %}>Activo</option>
                            <option value="muy_activo" {% if request.form.get("nivel_actividad") == "muy_activo" %}selected{% endif %}>Muy activo</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Objetivo de salud</label>
                        <select class="form-select rounded-pill" name="objetivo_salud" style="font-family: 'Delius', system-ui; font-size: 18px;" required>
                            <option value="">Selecciona tu objetivo</option>
                            <option value="perder peso" {% if request.form.get("objetivo_salud") == "perder_peso" %}selected{% endif %}>Perder peso</option>
                            <option value="mantener peso" {% if request.form.get("objetivo_salud") == "mantener_peso" %}selected{% endif %}>Mantener peso</option>
                            <option value="ganar musculo" {% if request.form.get("objetivo_salud") == "ganar_musculo" %}selected{% endif %}>Ganar músculo</option>
                            <option value="mejorar salud" {% if request.form.get("objetivo_salud") == "mejorar_salud" %}selected{% endif %}>Mejorar salud</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Meta semanal</label>
                        <select class="form-select rounded-pill" name="meta_semanal" style="font-family: 'Delius', system-ui; font-size: 18px;" required>
                            <option value="">Selecciona tu meta</option>
                            <option value="perder 0.5kg" {% if request.form.get("meta_semanal") == "perder_0.5kg" %}selected{% endif %}>Perder 0.5 kg</option>
                            <option value="perder 1kg" {% if request.form.get("meta_semanal") == "perder_1kg" %}selected{% endif %}>Perder 1 kg</option>
                            <option value="mantener" {% if request.form.get("meta_semanal") == "mantener" %}selected{% endif %}>Mantener</option>
                            <option value="ganar 0.5kg" {% if request.form.get("meta_semanal") == "ganar_0.5kg" %}selected{% endif %}>Ganar 0.5 kg</option>
                            <option value="ganar 1kg" {% if request.form.get("meta_semanal") == "ganar_1kg" %}selected{% endif %}>Ganar 1 kg</option>
                        </select>
                    </div>

                        <div class="mb-3">
                            <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Condiciones Medicas:</label>
                            <input style="font-family: 'Delius', system-ui; font-size: 18px;" type="text" class="form-control" name="condiciones_medicas" placeholder="Condiciones medicas que presentes" required
                                value="{{ request.form.get('condiciones_medicas','') }}">
                        </div>
                        <div class="mb-3">
                            <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Medicamentos:</label>
                            <input style="font-family: 'Delius', system-ui; font-size: 18px;" type="text" class="form-control" name="medicamentos" placeholder="Medicamentos" required
                                value="{{ request.form.get('medicamentos','') }}">
                        </div>
                        <div class="mb-3">
                            <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Alergias:</label>
                            <input style="font-family: 'Delius', system-ui; font-size: 18px;" type="text" class="form-control" name="alergias_alimentarias" placeholder="Alergias" required
                                value="{{ request.form.get('alergias_alimentarias','') }}">
                        </div>
                        <div class="mb-3">
                        <label style="font-family: 'Leckerli One', system-ui; font-size: 20px;" class="form-label">Preferencias alimenticias:</label>
                        <select class="form-select rounded-pill" name="preA" style="font-family: 'Delius', system-ui; font-size: 18px;" required>
                            <option value="">Selecciona</option>
                            <option value="vegetariano" {% if request.form.get("preA") == "vegetariano" %}selected{% endif %}>Vegetariano</option>
                            <option value="vegano" {% if request.form.get("preA") == "vegano" %}selected{% endif %}>Vegano</option>
                            <option value="sin gruten" {% if request.form.get("preA") == "sin_gruten" %}selected{% endif %}>Sin gruten</option>
                            <option value="sin lactosa" {% if request.form.get("preA") == "sin_lactosa" %}selected{% endif %}>Sin lactosa</option>
                            <option value="bajo carbohidratos" {% if request.form.get("preA") == "bajo_carbohidratos" %}selected{% endif %}>bajo carbohidratos</option>
                            <option value="keto" {% if request.form.get("preA") == "keto" %}selected{% endif %}>keto</option>
                            <option value="paleo" {% if request.form.get("preA") == "paleo" %}selected{% endif %}>Paleo</option>
                            <option value="mediterraneo" {% if request.form.get("preA") == "mediterraneo" %}selected{% endif %}>Mediterraneo</option>
                        </select>
                    </div>

                    <button style="background-color:#707298; font-family: 'Leckerli One', system-ui; font-size: 25px;" type="submit" class="btn btn-light w-100">Guardar Información</button>
                    <hr>
                </form>
            </div>
        </div>
    </div>

{% endblock %}